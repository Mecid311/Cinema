@model HomeViewModel
@{
    ViewData["Title"] = "Index";
}

<div class="prs_title_main_sec_wrapper">
    <div class="prs_title_img_overlay"></div>
    <div class="container">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="prs_title_heading_wrapper">
                    <h2>Movie Category</h2>
                    <ul>
                        <li>
                            <a asp-controller="home" asp-action="index">Home</a>
                        </li>
                        <li>&nbsp;&nbsp; >&nbsp;&nbsp; Movie Category</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- prs title wrapper End -->
<!-- prs mc slider wrapper Start -->
<div class="prs_mc_slider_main_wrapper">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="prs_heading_section_wrapper">
                    <h2>Comming soon</h2>
                </div>
            </div>
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="prs_mc_slider_wrapper">
                    <div class="owl-carousel owl-theme">
                        @foreach (var item in Model.MovieTit)
                        {
                            <div class="item">
                                <img src="/uploads/@item.TitleImage" alt="" class="mctitimg">
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- prs mc slider wrapper End -->
<!-- prs mc category slidebar Start -->
<div class="prs_mc_category_sidebar_main_wrapper">
    <div class="container">
        <div class="row">
            <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 hidden-sm hidden-xs">
                <div class="prs_mcc_left_side_wrapper">
                    <div class="prs_mcc_left_searchbar_wrapper">
                        <input type="text" id="searchby" placeholder="Search Movie">
                        <button >
                            <i class="flaticon-tool"></i>
                        </button>
                    </div>
                    <div class="prs_mcc_bro_title_wrapper">
                        <h2>browse title</h2>
                        <ul>
                            <li class="catsearch">
                                <i style="cursor:pointer" class="fa fa-caret-right"></i> &nbsp;&nbsp;&nbsp;<a>All </a>
                            </li>
                            @foreach (var item in Model.Categories)
                            {
                                <li style="cursor:pointer" class="catsearch" value="@item.Id">
                                    <i class="fa fa-caret-right"></i> &nbsp;&nbsp;&nbsp;<a>@item.Name <span>@item.Mcats.Count()</span></a>
                                </li>
                            }

                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12">
                <div class="prs_mcc_right_side_wrapper">
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <div class="prs_mcc_right_side_heading_wrapper">
                                <h2>Our Top Movies</h2>
                                <ul class="nav nav-pills">
                                    <li class="active">
                                        <a data-toggle="pill" href="#grid"><i class="fa fa-th-large"></i></a>
                                    </li>
                                    <li>
                                        <a data-toggle="pill" href="#list"><i class="fa fa-list"></i></a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <div class="tab-content">
                                <div id="grid" class="tab-pane fade in active">
                                    <div class="row" id="moviecat">
                                        @foreach (var item in Model.MovieUpcome)
                                        {
                                            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-6 prs_upcom_slide_first">
                                                <div class="prs_upcom_movie_box_wrapper prs_mcc_movie_box_wrapper">
                                                    <div class="prs_upcom_movie_img_box">
                                                        <img src="/uploads/@item.Image" alt="" />
                                                        <div class="prs_upcom_movie_img_overlay"></div>
                                                        <div class="prs_upcom_movie_img_btn_wrapper">
                                                            <ul>
                                                                <li>
                                                                </li>
                                                                <li>
                                                                    <a asp-controller="movie" asp-action="single" asp-route-id="@item.Id" asp-route-directorid="@item.DirectorId">View Details</a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <div class="prs_upcom_movie_content_box">
                                                        <div class="prs_upcom_movie_content_box_inner">
                                                            <h2><a href="#">@item.Name</a></h2>
                                                            <ul style="display:flex">
                                                                
                                                                @foreach (var item1 in item.Mcats)
                                                                {
                                                                    @if (item1 != item.Mcats.Last())
                                                                    {
                                                                        <li>@item1.Category.Name,</li>
                                                                    }
                                                                    else
                                                                    {
                                                                        <li>@item1.Category.Name</li>
                                                                    }
                                                                }
                                                            </ul>
                                                        </div>
                                                        <div class="prs_upcom_movie_content_box_inner_icon">
                                                            <ul>
                                                                <li>
                                                                </li>
                                                                <li>
                                                                    <a asp-controller="movie" asp-action="moviebooking" asp-route-id="@item.Id"><i class="flaticon-cart-of-ecommerce"></i></a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        }

                                    </div>
                                </div>
                                <div id="list" class="tab-pane fade">
                                    <div class="row">
                                        @foreach (var item in Model.MovieUpcome)
                                        {
                                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                <div class="prs_mcc_list_movie_main_wrapper">
                                                    <div class="prs_mcc_list_movie_img_wrapper">
                                                        <img src="/uploads/@item.Image" alt="categoty_img">
                                                    </div>
                                                    <div class="prs_mcc_list_movie_img_cont_wrapper">
                                                        <div class="prs_mcc_list_left_cont_wrapper">
                                                            <h2>@item.Name</h2>
                                                            <ul style="display:flex">
                                                                
                                                                @foreach (var item1 in item.Mcats)
                                                                {
                                                                    @if (item1 != item.Mcats.Last())
                                                                    {
                                                                        <li>@item1.Category.Name,</li>

                                                                    }
                                                                    else
                                                                    {
                                                                        <li>@item1.Category.Name</li>
                                                                    }
                                                                }
                                                            </ul>
                                                            <h4>Movie Director - @item.Director.Name</h4>
                                                        </div>
                                                        <div class="prs_mcc_list_right_cont_wrapper">
                                                            <a asp-controller="movie" asp-action="moviebooking" asp-route-id="@item.Id"><i class="flaticon-cart-of-ecommerce"></i></a>
                                                        </div>
                                                        <div class="prs_mcc_list_bottom_cont_wrapper">
                                                            @if (item.Desc.Length > 70)
                                                            {
                                                                @Html.Raw($"{item.Desc.Substring(0, 70)}...")

                                                            }
                                                            else
                                                            {
                                                                @Html.Raw(item.Desc)
                                                            }

                                                            <ul>
                                                                <li>
                                                                    <a asp-controller="movie" asp-action="single" asp-route-id="@item.Id" asp-route-directorid="@item.DirectorId">View Details</a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        }


                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>


@section searchby{

    <div class="product-heading">
        <div class="con" id="moviesearch">

            <input type="text" id="searchbyl" placeholder="Search Movie">
            <button type="submit">
                <i class="flaticon-tool"></i>
            </button>
        </div>
    </div>
  


}
